# review api for swagger
components:
  schemas:
    Cookie:
      type: string
    Review:
      type: object
      properties:
        PLACE_ID:
          type: integer
          example: 123
          description: '장소정보'
        TEXT:
          type: string
          example: '리뷰내용입니다.'
        RATING:
          type: integer
          example: 4
          description: '별점입니다'
        IMAGE:
          type: integer
          example: 4
          description: '이미지인데 어떻게 적어야할지 몰라서 일단 이렇게...'
paths:
  /review/create:
    post:
      tags:
        - review
      summary: 리뷰 작성 -> placeId가 주소 쿼리로 붙습니다.
      description: ''
      operationId: createReview
      parameters:
        - name: placeId
          in: query
          type: integer
          description: 'placeId정보'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rating:
                  type: integer
                  example: 4
                  description: '별점'
                keyword:
                  type: string
                  example: '3,4,5'
                  description: '키워드 종류를 쉼표로 구분하여 전송'
                detail:
                  type: text
                  example: '너무 맛있고 분위기가 좋아요'
                  description: '리뷰 세부 내용 담아서 전송'
                image:
                  type: text
                  example: 'multipart/form-data 형식으로 form태그인가?로 최대 5개까지 올려주세요. 이거는 req에 따로 포함하지 않고 form태그로 파일만 올려주시면됩니다'

      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fail'

  /review/update:
    put:
      tags:
        - review
      summary: 리뷰 수정
      description: ''
      operationId: updateReview
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Nickname'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fail'

  /review/delete:
    delete:
      tags:
        - review
      summary: 리뷰 삭제
      description: ''
      operationId: deleteReview
      parameters:
        - in: cookie
          name: refresh_token
          schema:
            $ref: '#/components/schemas/Cookie'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fail'

  /review/getList:
    get:
      tags:
        - review
      summary: 칵테일 바 리스트 조회
      description: ''
      operationId: getList
      parameters:
        - in: query
          name: query
          description: ''
          example: 수원 칵테일바
          schema:
            type: string
          required: true
        - in: query
          name: x
          description: 위도
          example: 37.514322572335935
          schema:
            type: string
        - in: query
          name: y
          description: 경도
          example: 127.06283102249932
          schema:
            type: string
        - in: query
          name: radius
          description: 반경
          example: 20000
          schema:
            type: string
        - in: query
          name: sort
          description: 정렬기준
          schema:
            type: string
            enum: ['accuracy', 'distance']
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getReviewList'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fail'

  /review/getBar/{id}:
    get:
      tags:
        - review
      summary: 칵테일 바 단건 조회
      description: ''
      operationId: getBar
      parameters:
        - in: path
          name: id
          description: 장소 ID
          example: 1389819741
          schema:
            type: string
          required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getBar'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fail'

  /review/getReview/{id}:
    get:
      tags:
        - review
      summary: 특정 칵테일 바 리뷰 조회
      description: ''
      operationId: getReview
      parameters:
        - in: path
          name: id
          description: 장소 ID
          example: 1389819741
          schema:
            type: string
          required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getReview'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fail'
